// Apply necessary plugins
apply plugin: 'com.android.application'
apply plugin: 'org.jetbrains.kotlin.android'
apply plugin: 'com.facebook.react'

/**
 * React Native Android Configuration Block
 * You can modify paths and configurations if necessary.
 */

android {
    compileSdkVersion 33  // Modify if necessary
    buildToolsVersion '33.0.0'  // Modify if necessary

    defaultConfig {
        applicationId "com.codecrush_lostandfoundapp"  // Your app's ID
        minSdkVersion 21  // Minimum SDK version
        targetSdkVersion 33  // Target SDK version
        versionCode 1  // Increment this for new versions
        versionName "1.0"  // Version name
    }

    signingConfigs {
        debug {
            // Debug signing configuration (used for both Debug and Release in this case)
            storeFile file('debug.keystore')  // Debug keystore location
            storePassword 'android'  // Debug keystore password
            keyAlias 'androiddebugkey'  // Debug key alias
            keyPassword 'android'  // Debug key password
        }
    }

    buildTypes {
        debug {
            signingConfig signingConfigs.debug  // Use the debug signing config for debug builds
            minifyEnabled false  // Disable ProGuard minification for debug builds
        }
        release {
            signingConfig signingConfigs.debug  // Use the debug signing config for release builds
            minifyEnabled false  // Disable ProGuard for release builds
            proguardFiles getDefaultProguardFile("proguard-android.txt"), "proguard-rules.pro"  // Optional: Leave as is, or remove if not using ProGuard
        }
    }

    // If you are using Hermes, uncomment this block:
    // sourceSets {
    //     main {
    //         java.srcDirs += 'src/main/java/com/facebook/react/modules/hermes'
    //     }
    // }
}

dependencies {
    implementation 'com.facebook.react:react-android'  // React Native Android dependency

    if (hermesEnabled.toBoolean()) {
        implementation 'com.facebook.react:hermes-android'  // Hermes dependency (if you're using Hermes)
    } else {
        implementation 'org.webkit:android-jsc:+'  // JavaScriptCore if you're not using Hermes
    }
}

apply from: file("../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle")
applyNativeModulesAppBuildGradle(project)  // Make sure the native modules are applied
